<!DOCTYPE html>
<html>
<head>
  <title>Gestión de Productos</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ddd; padding: 8px; }
    form { margin: 20px 0; }
    input, button { padding: 8px; margin: 5px; }
    .error { color: red; }
  </style>
</head>
<body>
  <h1>Gestión de Productos</h1>
  
  <% if (error) { %>
    <p class="error"><%= error %></p>
  <% } %>

  <form action="/productos" method="POST">
    <input type="text" name="nombre" placeholder="Nombre" required>
    <input type="number" name="precio" step="0.01" placeholder="Precio" required>
    <button type="submit">Agregar</button>
  </form>

  <table>
    <thead>
      <tr><th>ID</th><th>Nombre</th><th>Precio</th><th>Acción</th></tr>
    </thead>
    <tbody>
      <% productos.forEach(producto => { %>
        <tr>
          <td><%= producto.id %></td>
          <td><%= producto.nombre %></td>
          <td>$<%= producto.precio.toFixed(2) %></td>
          <td>
            <form action="/productos/<%= producto.id %>/delete" method="POST">
              <button type="submit">Eliminar</button>
            </form>
          </td>
        </tr>
      <% }); %>
    </tbody>
  </table>
</body>
</html>